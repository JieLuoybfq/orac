;===============================================================================
;+
; LOADCT_OMI
;
; Load OMI SO2 colour table (white at start)
;
; PARAMETERS
;	
;
; KEYWORDS
;	
;
; R.S. 08/06/10
; $Id: loadct_omi.pro 404 2010-09-14 13:22:25Z rsiddans $
;-
;===============================================================================
pro loadct_omi,ps=ps,gamma=gamma,reverse=reverse
        udname=strupcase(!d.name)
        if udname eq 'X' or udname eq 'Z' then begin
                if keyword_set(ps) then bg=255 else bg=0
                fgd=255-bg
                fg=fgd
        endif else begin
                bg=0
                fg=0
                fgd=255
        endelse
r=[255,255,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,255,255,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,255,252,248,247,247,247,246,239,239,240,233,231,231,231,229,221,222,222,222,222,213,214,214,214,214,206,206,206,208,193,189,189,189,183,181,181,180,172,173,173,174,166,165,165,165,165,165,164,155,156,156,157,157,156,156,155,154,147,148,148,148,148,148,148,146,140,140,140,140,140,140,140,140,140,140,140,132,132,132,126,123,123,123,121,121,122,122,123,118,115,115,115,115,115,115,115,110,106,107,107,107,107,107,106,106,102,99,99,99,99,99,99,89,90,90,90,90,90,90,90,90,88,88,83,82,82,89,90,90,91,100,100,108,107,107,117,124,123,128,133,133,139,146,147,154,156,155,162,165,169,173,173,182,181,189,192,199,201,207,207,214,217,222,225,231,239,241,248,254,254,254,254,254,254,254,254,254,254,254,254,254,254,255,255,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,255,204]
g=[255,252,251,251,251,251,251,247,247,246,243,243,243,242,239,239,236,235,235,235,235,235,235,234,232,232,229,227,227,227,224,223,223,223,219,219,219,219,220,216,217,215,215,214,211,211,211,211,207,207,208,203,203,202,200,200,199,199,196,195,195,195,195,195,190,190,190,190,186,186,186,183,182,182,180,178,179,178,178,178,175,174,174,174,170,168,166,166,168,170,171,174,174,175,178,178,178,180,182,184,186,187,191,190,195,195,199,199,201,203,207,207,211,211,214,216,219,222,223,225,227,229,231,234,236,239,243,246,251,251,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,252,254,254,254,254,253,254,254,254,254,254,254,254,254,254,254,253,251,252,254,254,254,254,254,254,254,254,254,254,254,254,254,255,254,254,254,254,254,254,254,254,254,254,254,252,252,253,252,254,254,254,254,254,254,254,254,254,254,255,254,254,254,254,254,254,254,254,254,254,254,254,250,243,237,235,226,223,217,211,209,202,194,190,186,177,171,165,159,155,149,144,138,132,125,121,114,106,100,94,90,85,76,69,63,59,50,45,38,30]
b=[255,255,254,254,254,254,254,254,254,247,247,247,247,247,247,247,247,247,247,247,247,247,247,247,248,248,247,247,247,241,247,247,247,247,247,246,253,249,255,254,254,254,254,254,254,254,254,254,254,254,255,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,255,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,255,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,255,254,254,254,254,248,247,247,246,239,231,231,232,223,223,216,214,209,205,206,202,197,188,189,189,181,176,173,172,164,162,155,155,139,140,140,138,132,123,122,115,108,103,99,98,87,82,82,82,82,79,73,75,74,72,73,73,74,74,74,75,72,65,66,66,66,66,67,60,57,57,57,57,57,57,55,55,56,51,52,48,41,42,41,40,41,39,31,37,32,33,33,33,33,33,29,31,31,23,23,23,21,17,24,32,31,23,24,18,16,16,18,16,14,9,17,16,14,7,8,8,8,8,4,0,0,0,5,14]
	if keyword_set(reverse) then begin
		r=reverse(r)
		g=reverse(g)
		b=reverse(b)
	endif
	if keyword_set(gamma) then begin
		r=fix(((float(r)/255)^gamma)*255)
		g=fix(((float(g)/255)^gamma)*255)
		b=fix(((float(b)/255)^gamma)*255)
	endif
	dnc=!d.table_size
	if dnc ne 256 then message,'Assumes table size=256'
	r(0)=bg
        g(0)=bg
        b(0)=bg
        r(dnc-1)=fgd
        g(dnc-1)=fgd
        b(dnc-1)=fgd

	tvlct,r,g,b
end
